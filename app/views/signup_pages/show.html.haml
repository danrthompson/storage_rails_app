
= render :partial => 'partials/logged_in_header'
= render partial: "partials/just_blue_bar", locals:{mainText:" ", dashboard:true, faq:true}
.errors
  = render partial: "partials/error_messages_object_form", locals: {object: @user}
%br/ 
%br/ 
%br/ 

// Confirmation Page
%section#signup-fourth.text-center
  .heading-about.marginbot-30
    .container
      .row
        .col-lg-8.col-lg-offset-2
          .section-heading
            %h2 Order Summary
  .container
    .row
      .col-lg-8.col-md-offset-2
        %h3.double-underlined Order Details
        .double-line
        .row

          // Order Recap
          .col-md-4.confirm-elem
            %h5 Your Order
            %ul
              - if @packing_supplies_request
                // Packing Supplies
                %li
                  %span.order-item Standard Box
                  %span.pull-right.hide-when-zero= @packing_supplies_request.box_quantity
                %li
                  %span.order-item Wardrobe Box
                  %span.pull-right.hide-when-zero= @packing_supplies_request.wardrobe_box_quantity
                %li
                  %span.order-item Bubble Wrap
                  %span.pull-right.hide-when-zero= @packing_supplies_request.bubble_quantity
                %li
                  %span.order-item Packing Tape
                  %span.pull-right.hide-when-zero= @packing_supplies_request.tape_quantity
              
              - if @pickup_request
                // Storage Items
                %li
                  %span.order-item Packing Box
                  %span.pull-right.hide-when-zero= @pickup_request.small_item_quantity
                %li
                  %span.order-item Medium Item
                  %span.pull-right.hide-when-zero= @pickup_request.small_item_quantity
                %li
                  %span.order-item Large Item
                  %span.pull-right.hide-when-zero= @pickup_request.small_item_quantity
                %li
                  %span.order-item XL Item
                  %span.pull-right.hide-when-zero= @pickup_request.small_item_quantity

            .single-line
            %ul
              %li.light-gray
                %span.order-item Cost of Supplies:
                / %span.pull-right.hide-when-zero$ #{@packing_supplies_request.one_time_price}
              %li.light-gray
                %span.order-item Price of Storage:
                / %span.pull-right.hide-when-zero$ #{@packing_supplies_request.monthly_price}/m
           
          // Delivery Recap
          .col-md-4.confirm-elem
            %h5 Delivery Time
            %p= @delivery_date
            .delivery-confirm-instructions
              %br/ 
              %h6.no-margin Special Instructions
              %p.half-opactiy.hide-unused= @user.special_instructions

          // Address Recap
          .col-md-4.confirm-elem
            %h5 Your Address
            %p= @user.address_line_1
            %div 
              %p.hide-unused= @user.address_line_2
            %p #{@user.city}, #{@user.state} #{@user.zip}
        %br/
        %br/
        %h3.double-underlined Payment Info
        .double-line

        // Credit Card Info Form
        = form_for @user, url:add_payment_signup_pages_path, html:{id:"credit-card-form"} do |cc|
          .bg-gray
            %br/
            .row
              .col-md-8.col-md-offset-2.align-left
                .form-group.address-form
                  = cc.label :cc_name, "Name on Credit Card", class:"no-margin"
                  = cc.text_field :cc_name,  autofocus: true, placeholder:"e.g. John Doe", class:"form-control", id:""
                  %br/
                  = cc.label :cc_number, "Credit Card Number", class:"no-margin"
                  = cc.text_field :cc_number,  autofocus: true, placeholder:"e.g. 1234 5678 9012 3456", class:"form-control", id:""
                  %br/
                  .row
                    .col-md-6.col-sm-6.col-xs-6.col-lg-6
                      = cc.label :exp_month, "Expiration Month", class:"no-margin"
                      = cc.text_field :exp_month,  autofocus: true, placeholder:"mm", class:"form-control", id:""
                    .col-md-6.col-sm-6.col-xs-6.col-lg-6
                      = cc.label :exp_year, "Expiration Year", class:"no-margin"
                      = cc.text_field :exp_year,  autofocus: true, placeholder:"yyyy", class:"form-control", id:""
              .col-md-8.col-md-offset-2
            %br/
          %br/
          %br/
          .row
            .col-md-5.col-md-offset-2.no-side-padding
              %p.align-right.pull-right.pt-10
                I agree to the
                %a.pointer{"data-target" => "#myModal", "data-toggle" => "modal"} terms of service 
            .col-md-1
              %input#terms-checkbox.pull-right{:type => "checkbox", required:true}/
            .col-md-4
              .boxed-gray.continue-button
                = cc.submit 'confirm order', class:"btn btn-primary blue-bg-hover"



= render :partial => "partials/footer"


/ Modal
#myModal.modal.fade{"aria-hidden" => "true", "aria-labelledby" => "myModalLabel", :role => "dialog", :tabindex => "-1"}
  .modal-dialog
    .modal-content
      .modal-header
        %button.close{"data-dismiss" => "modal", :type => "button"}
          %span{"aria-hidden" => "true"} Ã—
          %span.sr-only Close
        %h4#myModalLabel.modal-title Terms of Service
      .modal-body
        = render partial: "partials/terms_of_service_txt"
      .modal-footer
        %button.btn.btn-default.pull-left{"data-dismiss" => "modal", :type => "button"} Close
        / %button.btn.btn-primary{:type => "button"} Save changes

:javascript
  hideParentWhenZero("hide-when-zero");
  hideParentWhenNotUsed("hide-unused");
  