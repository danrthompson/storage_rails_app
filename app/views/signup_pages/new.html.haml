- content_for :title do
  = "Create Account | Signup |"

= render partial: 'partials/standard_header'

= render :partial => 'partials/nudge_icon'

.container.full-width.blue-bg.no-padding.white.align-center
  %br/
  %h1#lets-doit Create Your Account
#signup-progress.row.align-center
  .col-md-8.col-md-offset-2
    %ul.no-list
      %li.signup-active#step-1
        %h4
          %span.green.hidden{:data => {'icon' => "D"}}
          1. Create Login
      %li#step-2
        %h4
          %span.green.hidden{:data => {'icon' => "D"}}
          2. Item Selection
      %li#step-3
        %h4
          %span.green.hidden{:data => {'icon' => "D"}}
          3. Account Details


%br/
.container
  = render partial: 'partials/error_messages_object_form', locals: {object: @user}
%br/
%br/

= form_for @user, url: signup_create_login_path, :html => {:id => 'signup-form'} do |f|
  = f.hidden_field :estimator_small_item_quantity
  = f.hidden_field :estimator_medium_item_quantity
  = f.hidden_field :estimator_large_item_quantity
  = f.hidden_field :estimator_extra_large_item_quantity
  = f.hidden_field :estimator_duration


  ///////////////////////////////////////////////////
  // Signup /////////////////////////////////////////
  ///////////////////////////////////////////////////
  %section.text-center#signup-fourth
    .container
      .row
        .col-lg-6.col-md-offset-3
          %h3.double-underlined Account Setup
          .double-line
          .boxed-grey
            .row
              %br/
              .col-md-8.col-md-offset-2.form-group.address-form
                .row
                  .col-md-12
                    %div.extra-form-padding.align-center
                      = f.text_field :name, autofocus: true, class:"form-control", placeholder: "Name"
                .row
                  .col-md-12
                    .extra-form-padding
                      = f.text_field :phone_number, id:"user_phone", autofocus: true, placeholder:"Phone", class:"form-control", id:""
                .row#signup-emailaddr
                  .col-md-12
                    %div.extra-form-padding
                      = f.email_field :email, autofocus: true, class:"form-control", placeholder: "Email"
                .row
                  .col-md-12
                    %div.extra-form-padding
                      = f.password_field :password, autofocus: true, class:"form-control", placeholder: "Password"
              .col-md-8.col-md-offset-2.bottom-buttons
                = f.submit "Create Account",:class => "btn btn-skin pull-right", id:"signup-fourth-btn"
                / %a.pointer{href:"/"}
                /   %h1.btn.btn-default.pull-left Back
            %br/
            %br/
          %span.blue.black-hover.pointer.half-opacity#quote-triggerr{"data-target" => "#signup_modal", "data-toggle" => "modal"}
            Want updates but not ready to create an account? Click here.
    %br/
    %br/
    %br/
    %br/
    %br/
    %br/



= render :partial => "partials/footer"
= render :partial => "partials/storageSizeModal"
= render :partial => "partials/outsideAreaModal"
= render :partial => 'partials/signup_modal'

/ :javascript


/   var all_form = $(".form-control");
/   all_form.on('input', function() {

/     var numFilled = 0;
/     var numFields =  $(".form-control").size();
/     $(".form-control").each(function(){
/       if($(this).val().length > 0){
/         numFilled += 1;
/       }
/     });
/     console.log('numFilled '+numFilled);
/     if (numFilled == numFields){
/       $("#signup-fourth-btn").attr('disabled', false);
/       console.log('attribute removed');
/     } else{
/       $("#signup-fourth-btn").attr('disabled', true);
/       console.log('attribute added');
/     }
/   });
