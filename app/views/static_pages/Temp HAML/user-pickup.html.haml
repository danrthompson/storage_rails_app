!!!
%html{:lang => "en"}
  %head
    %meta{:charset => "utf-8"}/
    %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}/
    %meta{:content => "", :name => "description"}/
    %meta{:content => "", :name => "author"}/
    %title Infinite Garage bootstrap 3 one page template
    / Bootstrap Core CSS
    / <link href="css/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    %link{:href => "css/css/bootstrap.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "css/css/pikaday.css", :rel => "stylesheet"}/
    / <link href="css/bootstrap.css" rel="stylesheet" type="text/css">
    / Fonts
    %link{:href => "font-awesome/css/font-awesome.min.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "css/nivo-lightbox.css", :rel => "stylesheet"}/
    %link{:href => "css/nivo-lightbox-theme/default/default.css", :rel => "stylesheet", :type => "text/css"}/
    %link{:href => "css/animate.css", :rel => "stylesheet"}/
    / Squad theme CSS
    %link{:href => "css/style.css", :rel => "stylesheet"}/
    %link{:href => "color/default.css", :rel => "stylesheet"}/
  %body{"data-spy" => "scroll"}
    .container
      %ul#gn-menu.gn-menu-main.main-header.full-opacity
        %li.gn-trigger
          %a.gn-icon.gn-icon-menu
            %span Menu
          %nav.gn-menu-wrapper
            .gn-scroller
              %ul.gn-menu
                %li.gn-search-item
                  %input.gn-search{:placeholder => "Search", :type => "search"}/
                  %a.gn-icon.gn-icon-search
                    %span Search
                %li
                  %a.gn-icon.gn-icon-download{:href => "#about"} About
                %li
                  %a.gn-icon.gn-icon-cog{:href => "#service"} Service
                %li
                  %a.gn-icon.gn-icon-help{:href => "#works"} Works
                %li
                  %a.gn-icon.gn-icon-archive{:href => "#contact"} Contact
            / /gn-scroller
        / <li><a href="index.html">Infinite Garage</a></li>
        %li.pull-right
          %a{:href => ""}
            %span.light-gray> Already Have An Account? &nbsp&nbsp
            Login Here
    %br/
    %br/
    %br/
    / BLUE HEADER BAR
    .container.full-width.blue-bg.no-padding.white.dashboard-header.single-row
      .row
        .col-md-6.align-center
          %h1 SCHEDULE PICKUP
        / Dashboard
        .col-md-1.col-md-offset-3.col-sm-4.col-xs-4.align-center
          .service-box
            %a{:href => "user-dashboard.html"}
            .service-icon
              %i.fa.fa-dashboard
            .service-desc
              %h6 Dashboard
        / Questions
        .col-md-1.col-sm-4.col-xs-4.align-center
          .service-box
            %a{:href => "faq.html"}
            .service-icon
              %i.fa.fa-question-circle
            .service-desc
              %h6 FAQ
    / END SECONDARY HEADER
    /
      <br>
      <br>
      <br>
    / Section: ITEM SELECTION
    %section#about.home-section.text-center
      .heading-about.marginbot-20
        .container
          .row
            .col-lg-8.col-lg-offset-2
              .section-heading
                %h2 REQUEST A NEW PICKUP
      / BODY CONTENT: SELECT ITEMS
      .container
        .row
          .col-md-8.col-md-offset-2
            .row
              / Date &amp; Address Box
              .boxed-grey.col-md-12
                %form#contact-form
                  .row
                    .col-md-6
                      .form-group.address-form
                        %label{:for => "name"} Confirm Address:
                        %input#name.form-control{:placeholder => "Address Line 1", :required => "required", :type => "text"}/
                        %input#name.form-control{:placeholder => "Address Line 2", :required => "required", :type => "text"}/
                        .row
                          .col-md-6.col-sm-6.col-xs-6.col-lg-6
                            %input#name.col-md-6.form-control{:placeholder => "City", :required => "required", :type => "text"}/
                          .col-md-3.col-sm-3.col-xs-3.col-lg-3.form-field-wrapper
                            %input#name.form-control{:placeholder => "st", :required => "required", :type => "text"}/
                          .col-md-3.col-sm-3.col-xs-3.col-lg-3.form-field-wrapper
                            %input#name.form-control{:placeholder => "zip", :required => "required", :type => "text"}/
                        / END row
                      / END  address-form
                    / END col-md-6
                    .col-md-6
                      .form-group
                        .col-md-12
                          .form-group.delivery-date-group
                            %label{:for => "date-picker"} Delivery Date
                            %input#datepicker.form-control{:name => "date-picker", :placeholder => "Does tomorrow work for you?", :type => "text"}/
                            %br/
                            %label{:for => "date-picker"} Time Of Day
                            %select.form-control.selectpicker
                              %option 6:30AM - 10:00PM
                              %option Ketchup
                              %option Relish
                      / END form group
                    / END col-6
                  / END row
                / END Date &amp; Address Form
              / end boxed gray, col12
              / End Date &amp; Address Box
              / Start Phone Number &amp; Instructions Box
              .boxed-grey.col-md-12
                %form#contact-form
                  .row
                    .col-md-6.align-left
                      %label{:for => "name"} Phone Number (for delivery)
                      %input#name.form-control{:placeholder => "Address Line 1", :required => "required", :type => "text"}/
                    .col-md-6.align-left
                      %label{:for => "name"} Any Special Instructions?
                      %textarea#message.form-control{:cols => "25", :name => "message", :placeholder => "Message", :required => "required", :rows => "2"}
              / End Phone Number &amp; Instructions Box
              .col-md-8.col-md-offset-2.half-opacity.charges-box
                %br/
                .single-line
                %br/
              .col-md-12
                %h1 Add To Pickup
                %p.light-gray Would you like us to pick up anything additional? (ex: bikes, furniture, etc.)
              .col-md-12
                .row
                  .col-xs-6.col-sm-4.col-md-4.list-item-small
                    .team.boxed-grey
                      .avatar
                        %img.img-responsive{:alt => "", :src => "img/team/1.jpg"}/
                      .row.list-item-buttons
                        .col-md-12
                          %h4 Standard Box
                        .col-md-7
                          %input#txt-stdbox.form-control.quantity-field{:placeholder => "$6.25/m", :type => "text"}/
                        .col-md-5
                          %button#stdbox.btn.btn-primary.rounded.full-width.btn-inc{:type => "button"} +
                  .col-xs-6.col-sm-4.col-md-4.list-item-small
                    .team.boxed-grey
                      .avatar
                        %img.img-responsive{:alt => "", :src => "img/team/1.jpg"}/
                      .row.list-item-buttons
                        .col-md-12
                          %h4 Standard Box
                        .col-md-7
                          %input#txt-stdbox.form-control.quantity-field{:placeholder => "$6.25/m", :type => "text"}/
                        .col-md-5
                          %button#stdbox.btn.btn-primary.rounded.full-width.btn-inc{:type => "button"} +
                  .col-xs-6.col-sm-4.col-md-4.list-item-small
                    .team.boxed-grey
                      .avatar
                        %img.img-responsive{:alt => "", :src => "img/team/1.jpg"}/
                      .row.list-item-buttons
                        .col-md-12
                          %h4 Standard Box
                        .col-md-7
                          %input#txt-stdbox.form-control.quantity-field{:placeholder => "$6.25/m", :type => "text"}/
                        .col-md-5
                          %button#stdbox.btn.btn-primary.rounded.full-width.btn-inc{:type => "button"} +
                  .col-xs-6.col-sm-4.col-md-4.list-item-small
                    .team.boxed-grey
                      .avatar
                        %img.img-responsive{:alt => "", :src => "img/team/1.jpg"}/
                      .row.list-item-buttons
                        .col-md-12
                          %h4 Standard Box
                        .col-md-7
                          %input#txt-stdbox.form-control.quantity-field{:placeholder => "$6.25/m", :type => "text"}/
                        .col-md-5
                          %button#stdbox.btn.btn-primary.rounded.full-width.btn-inc{:type => "button"} +
                  .col-xs-6.col-sm-4.col-md-4.list-item-small
                    .team.boxed-grey
                      .avatar
                        %img.img-responsive{:alt => "", :src => "img/team/1.jpg"}/
                      .row.list-item-buttons
                        .col-md-12
                          %h4 Standard Box
                        .col-md-7
                          %input#txt-stdbox.form-control.quantity-field{:placeholder => "$6.25/m", :type => "text"}/
                        .col-md-5
                          %button#stdbox.btn.btn-primary.rounded.full-width.btn-inc{:type => "button"} +
                  .col-xs-6.col-sm-4.col-md-4.list-item-small
                    .team.boxed-grey
                      .avatar
                        %img.img-responsive{:alt => "", :src => "img/team/1.jpg"}/
                      .row.list-item-buttons
                        .col-md-12
                          %h4 Standard Box
                        .col-md-7
                          %input#txt-stdbox.form-control.quantity-field{:placeholder => "$6.25/m", :type => "text"}/
                        .col-md-5
                          %button#stdbox.btn.btn-primary.rounded.full-width.btn-inc{:type => "button"} +
              / End Phone Number &amp; Instructions Box
              .col-md-8.col-md-offset-2.half-opacity.charges-box
                %br/
                .single-line
                %br/
              / Payment &amp; Confirmation Box
              .col-md-12.charges-box
                .row
                  .col-md-6.confirm-elem.light-blue-bg
                    %h5 Previously Ordered
                    %ul
                      %li
                        %span.order-item Shoe Box
                        %span.pull-right.font-italic.half-opacity Standard Item
                      / 
                      %li
                        %span.order-item Wardrobe Box
                        %span.pull-right.font-italic.half-opacity Standard Item
                      %li
                        %span.order-item Bicycle
                        %span.pull-right.font-italic.half-opacity Standard Item
                      %li
                        %span.order-item Livingroom Couch
                        %span.pull-right.font-italic.half-opacity Furniture / Large Item
                  .col-md-6.confirm-elem.light-blue-bg
                    %h5 Pickup Additions
                    %ul
                      %li#num-stdbox
                        %span.pull-left> 12
                        \&nbsp; &nbsp;Standard Boxes
                        %i.pull-right.light-gray $7.50/unit
                      %li#num-warbox
                        %span.pull-left> 3
                        \&nbsp; &nbsp;Warchest Boxes
                        %i.pull-right.light-gray $12.50/unit
                      %li#num-bike
                        %span.pull-left> 1
                        \&nbsp; &nbsp;Gold Boxes
                        %i.pull-right.light-gray $1.50/unit
                      %li#num-chair
                        %span.pull-left> 1
                        \&nbsp; &nbsp;Pickle Boxes
                        %i.pull-right.light-gray $100.50/unit
                    %br/
      %li
        Valet Pickup
        %span.pull-right Free
      .single-line
      %ul
        %li.heavy-font
          Subtotal
          %span#order-subtotal.pull-right $00.00/m
        %li
          %span.order-item Container Rate Savings:
          %span.pull-right $237.50
      / end row
      .col-md-4.bottom-buttons
        .boxed-gray.continue-button
          %button.btn.btn-primary.blue-bg.gray-bg{:type => "button"}/
          %a{:href => "user-newbox.html", :style => "color: white;"} Back
      / END col-12
      .col-md-4.col-md-offset-4.bottom-buttons
        .boxed-gray.continue-button
          %button.btn.btn-primary.blue-bg.blue-bg-hover{:type => "button"}/
          %a{:href => "success-delivery.html", :style => "color: white;"} Confirm Delivery
      / END col-12
      / END ROW
      / end row wrapper
      / end row
      / end container
    / /Section: about
    %footer
      .container
        .row
          .col-md-12.col-lg-12
            %p
              Copyright &copy; 2014 Infinite Garage - by
              %a{:href => "http://bootstraptaste.com"} Bootstraptaste
    / Core JavaScript Files
    %script{:src => "js/jquery.min.js"}
    %script{:src => "js/bootstrap.min.js"}
    %script{:src => "js/jquery.easing.min.js"}
    %script{:src => "js/classie.js"}
    %script{:src => "js/gnmenu.js"}
    %script{:src => "js/jquery.scrollTo.js"}
    %script{:src => "js/nivo-lightbox.min.js"}
    %script{:src => "js/stellar.js"}
    / Custom Theme JavaScript
    %script{:src => "js/custom.js"}
    %script{:src => "js/pikaday.js"}
    :javascript
      var picker = new Pikaday(
      {
          field: document.getElementById('datepicker'),
          firstDay: 1,
          minDate: new Date('2000-01-01'),
          maxDate: new Date('2020-12-31'),
          yearRange: [2000,2020]
      });
    %script{:src => "http://code.jquery.com/jquery-1.10.2.js"}
    :javascript
      $(".btn-inc").click(function(){
      	console.log("button clicked");
      	var id = $(this).attr('id');

      	// update text field - incrememnt by one
      	var field = $("#txt-"+id);
      	var val = $(field).val();
      	val = +val + 1;
      	$(field).val(val);

      	// update subtotal

      	var orderEntrySpan = $('#num-'+id+" span");
      	// redoCalculations();
      	refreshOrder(val, orderEntrySpan);
      });

      $(".quantity-field").change(function(){
      	var field = $(this);
      	var id = field.attr("id");
      	var idRoot = id.substr(4);
      	console.log(idRoot);
      	console.log(field.attr('id'));
      	var orderEntrySpan = $('#num-'+idRoot+ " span");
      	refreshOrder(field.val(), orderEntrySpan);
      });

      function refreshOrder(val, orderEntrySpan){
      	console.log("REFERESHING ORDER");
      	orderEntrySpan.html(parseInt(val));
      	var orderEntry = orderEntrySpan.parent();
      	
      	if (val == 0) orderEntry.addClass('hidden');
      	else orderEntry.removeClass('hidden');
      	
      	redoCalculations();
      }

      function redoCalculations(){
      	var numCouches = $('#txt-couch').val();
      	var numStdBox = $('#txt-stdbox').val();
      	var numWarBox = $('#txt-warbox').val();
      	var numBike = $('#txt-bike').val();
      	
      	var totalItems = numBike + numCouches + numStdBox + numWarBox;
      	if (totalItems > 0) $('#no-items').addClass('hidden');
      	else $('#no-items').removeClass('hidden');

      	var total = 15.00*numBike + 30.00*numCouches + 6.25*numStdBox + 12.00*numWarBox;
      	console.log("total:" + total);
      	$('#order-subtotal').text("$" + total+"/m");

      	  if (tota < 0.1) $("#requst-btn").attr("disabled", "disabled");
        else {
      		console.log("Delivery BUTTON REMOVING DISABLED");
      		$("#delivery-button").removeAttr("disabled"); 
      		$(".pickup-entry").removeClass("selected-item");
      		$("#pickup-button").attr("disabled", "disabled");
      		numPickupItems = 0;  
         } 
      }
